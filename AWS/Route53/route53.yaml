template_path: route53.tf
stack_name: DevOps Stack

zone_domain_suffix: kubelab
zone_domain_name: kubelab.cloud
zone_domain_ip: instance-id
zone_domain_ttl: 600

private_zone: true
vpc_id: vpc-12345678
vpc_region: eu-west-1
vpc_authorization_name: vpc-ass-auth-test
vpc_association: vpc-ass-test

records:
  - label: ipv4
    name: kubelab.cloud
    protocol: ipv4
    allow_overwrite: true
    ttl: 600
    targets: 
      - name: "kubelab.cloud"
    aliases:
      - target_dns_name: example-1234567890.eu-west-1.elb.amazonaws.com
        target_zone_id: Z12ABC3DEF45GH
        target_health: false
    tags:
      - Environment = "dev"
    # TODO: We need to add more routing policies (now only weighted is supported). 
    # cidr_routing_policy, failover_routing_policy, geolocation_routing_policy, latency_routing_policy, multivalue_answer_routing_policy
  - label: ipv6
    name: this-is-ipv6.com
    protocol: ipv6
    allow_overwrite: false
    targets: 
      - name: "this-is-ipv6.com"
    ttl: 1200
  - label: someother
    name: someotherdomain.com
    type: CNAME
    targets:
      - name: "someotherdomain.com"
    ttl: 600
    allow_overwrite: true
  - label: weight
    name: weighted.com
    type: CNAME
    targets:
      - name: "weighted.com"
    allow_overwrite: true
    weight: 90
    identifier: "weighted"
  - label: weight2
    name: weighted2.com
    type: CNAME
    targets:
      - name: "weighted2.com"
    allow_overwrite: true
    weight: 10

with_elb: false
elbs:
  - elb_name: kube-example-elb
    elb_availability_zones: 
      - name: eu-west-1a
      - name: eu-west-1b
      - name: eu-west-1c
    elb_instances: 
      - name: instance-id-1
      - name: instance-id-2
    elb_listeners:
      - protocol: HTTP
        port: 80
        lb_port: 80
        lb_protocol: HTTP
    elb_s3_bucket_name: example-elb-logs
    elb_bucket_prefix: elb-logs
    elb_target: HTTP:80/
    elb_interval: 30
    elb_healthy_threshold: 2
    elb_unhealthy_threshold: 2
    elb_timeout: 5
  - elb_name: example-elb22
    elb_availability_zones: 
      - name: eu-west-1a
      - name: eu-west-1b
      - name: eu-west-1c
    elb_instances: 
      - name: instance-id-3
      - name: instance-id-4
    elb_listeners:
      - protocol: HTTP
        port: 80
        lb_port: 80
        lb_protocol: HTTP
    elb_target: HTTP:80/
    elb_interval: 30
    elb_healthy_threshold: 2
    elb_unhealthy_threshold: 2
    elb_timeout: 5

with_subdomains: false
subdomains: 
  - label: testing_subdomain
    name: testing
    ip: instance-id
    ttl: 300
  - label: testing2_subdomain
    name: testing2
    ip: instance-id
    ttl: 3600

with_TXT_management: false
TXT_values:
  - value: "v=spf1"
  - value: "include:spf.protection.outlook.com -all"
  - value: "MS=ms18260796"

with_NS_management: false
NS_name_servers:
  - name: ns-123.awsdns-12.org
  - name: ns-456.awsdns-34.co.uk
  - name: ns-789.awsdns-56.com
  - name: ns-012.awsdns-78.net

with_SOA_management: false
# [authority-domain] [hostmaster-email-address] [zone-serial-number] [refresh-time] [retry-time] [expire-time] [negative caching TTL]
SOA_name_servers:
  - name: ns-1247.awsdns-27.org. awsdns-hostmaster.amazon.com. 1 7200 900 1209600 86400

with_MX_management: false
MX_mail_servers:
  - name: aspmx.l.google.com
    priority: 10
  - name: alt1.aspmx.l.google.com
    priority: 20
  - name: alt2.aspmx.l.google.com
    priority: 30
  - name: alt3.aspmx.l.google.com
    priority: 40
  - name: alt4.aspmx.l.google.com
    priority: 50