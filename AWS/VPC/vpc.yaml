template_path: VPC/vpc.tf
stack_description: VPC KubeLab Module

vpc_cidr_block: "192.168.0.0/16"
vpc_tags: {Name: "KubeLab"}

nat_gateways:
  - nat_gateway_name: ngw1
    for_subnet: public1
  - nat_gateway_name: ngw2
    for_subnet: public2

route_tables:
  - rt_name: rt1
    rt_cidr_block: "0.0.0.0/0"
    int_gateway: internet_gateway
    nat_gateway_name: false
    rt_tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }
  - rt_name: rt2
    rt_cidr_block: "0.0.0.0/0"
    int_gateway: false
    nat_gateway_name: ngw1
    rt_tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }
  - rt_name: rt3
    rt_cidr_block: "0.0.0.0/0"
    int_gateway: false
    nat_gateway_name: ngw2
    rt_tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }

subnets:
  - type_subnet: public1
    cidr_block: "192.168.0.0/18"
    availability_zone: "us-east-1a"
    map_public_ip_on_launch: true
    route_table_association: true
    rt_name: rt1
    
    tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }
  - type_subnet: public2
    cidr_block: "192.168.64.0/18"
    availability_zone: "us-east-1b"
    map_public_ip_on_launch: true
    int_gateway: internet_gateway
    nat_gateway_name: false
    rt_name: rt1
    route_table_association: true
    tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }
  - type_subnet: private1
    cidr_block: "192.168.128.0/18"
    availability_zone: "us-east-1a"
    map_public_ip_on_launch: true
    int_gateway: internet_gateway
    nat_gateway_name: false
    rt_name: rt2
    route_table_association: true
    tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }
  - type_subnet: private2
    cidr_block: "192.168.192.0/18"
    availability_zone: "us-east-1b"
    map_public_ip_on_launch: true
    int_gateway: internet_gateway
    nat_gateway_name: false
    rt_name: rt3
    route_table_association: true
    tags: {
     'Name':'public-us-east-1a',
     'kubernetes.io/cluster/eks': 'shared',
     'kubernetes.io/role/elb': '1'
     }

internet_gateway: true

    
security_groups:
  - name: sg_in
    ingress:
      - ingress1:
        from_port: 22
        to_port: 22
        protocol: tcp
        cidr_blocks: '["0.0.0.0/0"]'
    engress:
      - engress1:
        from_port: 0
        to_port: 0
        protocol: "-1"
        cidr_blocks: '["0.0.0.0/0"]'